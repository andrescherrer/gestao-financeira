# FE-008 - Configurar variáveis de ambiente (.env.local)

**Data:** 2025-12-23  
**Status:** ✅ Concluída

## Resumo da Implementação

**Tarefa:** FE-008 - Configurar variáveis de ambiente (.env.local)

### Arquivos Criados

1. **`.env.local`**
   - Arquivo de variáveis de ambiente para desenvolvimento local
   - Contém configurações da API, ambiente e app
   - Não é versionado (já está no .gitignore)

2. **`.env.local.example`**
   - Template de exemplo para variáveis de ambiente
   - Versionado no git para referência
   - Documenta todas as variáveis necessárias

3. **`lib/config/env.ts`**
   - Módulo centralizado para acesso às variáveis de ambiente
   - Validação de variáveis obrigatórias
   - Helpers para verificar ambiente (isDevelopment, isProduction, isTest)
   - Type-safe com `as const`

### Variáveis de Ambiente Configuradas

#### API Configuration
- **`NEXT_PUBLIC_API_URL`**: URL base da API backend
  - Padrão: `http://localhost:8080/api/v1`
  - Usado pelo cliente Axios

#### Environment
- **`NEXT_PUBLIC_ENV`**: Ambiente de execução
  - Valores: `development` | `production` | `test`
  - Padrão: `development`

#### App Configuration
- **`NEXT_PUBLIC_APP_NAME`**: Nome da aplicação
  - Padrão: `Gestão Financeira`
- **`NEXT_PUBLIC_APP_VERSION`**: Versão da aplicação
  - Padrão: `1.0.0`

### Integração

**`lib/api/client.ts`**:
- Atualizado para usar `env.apiUrl` em vez de `process.env.NEXT_PUBLIC_API_URL` diretamente
- Centraliza o acesso às variáveis de ambiente

**`lib/config/env.ts`**:
- Exporta objeto `env` com todas as configurações
- Função `validateEnv()` para validar variáveis obrigatórias
- Helpers: `isDevelopment`, `isProduction`, `isTest`

### Segurança

- `.env.local` está no `.gitignore` (não versionado)
- `.env.local.example` é versionado como template
- Variáveis `NEXT_PUBLIC_*` são expostas ao cliente (necessário para Next.js)
- Validação de variáveis obrigatórias no lado do servidor

### Uso

```typescript
import { env } from '@/lib/config/env';

// Acessar URL da API
const apiUrl = env.apiUrl;

// Verificar ambiente
if (env.isDevelopment) {
  console.log('Modo desenvolvimento');
}

// Acessar configurações da app
const appName = env.appName;
const appVersion = env.appVersion;
```

### Próximos Passos

Esta configuração será usada em:
- **FE-009**: Dockerfile para frontend (usará variáveis de ambiente)
- **FE-AUTH-001**: Integração com API de autenticação
- **FE-ACC-001**: Integração com API de contas
- **FE-TX-001**: Integração com API de transações

### Testes Realizados

- ✅ Arquivos `.env.local` e `.env.local.example` criados
- ✅ Módulo `lib/config/env.ts` criado
- ✅ Cliente API atualizado para usar `env.apiUrl`
- ✅ `npm run build` - Build do projeto passou
- ✅ TypeScript sem erros
- ✅ Validação de variáveis funcionando

### Configuração para Produção

Para produção, criar `.env.production` ou configurar variáveis de ambiente no servidor/hosting:
- `NEXT_PUBLIC_API_URL`: URL da API em produção
- `NEXT_PUBLIC_ENV`: `production`

### Próxima Tarefa

FE-009 - Criar Dockerfile para frontend

### Commits Realizados

- `feat: FE-008 - configurar variáveis de ambiente (.env.local)`

