# CAT-006: Implementar use cases de Category (CRUD)

**Data:** 2025-12-26 09:41:34  
**Sprint:** 2.3 - Category Context - Backend  
**Status:** ✅ Completo

## Resumo

Implementação dos use cases para operações CRUD de categorias: Create, Read (List e Get), Update e Delete. Cada use case encapsula a lógica de aplicação e coordena entre repositório e event bus.

## Implementação

### Arquivos Criados

- `backend/internal/category/application/dtos/create_category_dto.go`
- `backend/internal/category/application/dtos/get_category_dto.go`
- `backend/internal/category/application/dtos/list_categories_dto.go`
- `backend/internal/category/application/dtos/update_category_dto.go`
- `backend/internal/category/application/dtos/delete_category_dto.go`
- `backend/internal/category/application/usecases/create_category_usecase.go`
- `backend/internal/category/application/usecases/list_categories_usecase.go`
- `backend/internal/category/application/usecases/get_category_usecase.go`
- `backend/internal/category/application/usecases/update_category_usecase.go`
- `backend/internal/category/application/usecases/delete_category_usecase.go`
- `backend/internal/category/application/usecases/create_category_usecase_test.go`

### Use Cases Implementados

1. **CreateCategoryUseCase**
   - Valida input (user ID, name)
   - Cria value objects
   - Cria entidade Category
   - Salva no repositório
   - Publica eventos de domínio

2. **ListCategoriesUseCase**
   - Lista categorias por usuário
   - Filtro opcional por status ativo
   - Retorna contagem total

3. **GetCategoryUseCase**
   - Busca categoria por ID
   - Retorna erro se não encontrada

4. **UpdateCategoryUseCase**
   - Atualiza nome e/ou descrição
   - Valida que pelo menos um campo foi fornecido
   - Publica eventos de domínio

5. **DeleteCategoryUseCase**
   - Soft delete da categoria
   - Valida existência antes de deletar

### DTOs

- **CreateCategoryInput/Output**: Criação de categoria
- **GetCategoryOutput**: Dados de uma categoria
- **ListCategoriesInput/Output**: Listagem com filtros
- **UpdateCategoryInput/Output**: Atualização parcial
- **DeleteCategoryInput/Output**: Confirmação de deleção

### Testes

Testes unitários para `CreateCategoryUseCase` cobrindo:
- Criação bem-sucedida
- Validação de input inválido
- Verificação de persistência

## Padrão Seguido

Seguido o mesmo padrão usado nos use cases de `Account` e `Transaction`, garantindo consistência na arquitetura.

