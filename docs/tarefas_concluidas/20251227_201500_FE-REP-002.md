# FE-REP-002 - Criar hook useReports (TanStack Query)

**Data:** 2025-12-27  
**Status:** ✅ Concluída

## Resumo da Implementação

**Tarefa:** FE-REP-002 - Criar hook useReports (TanStack Query)

### Implementação

Criado hook `useReports` usando TanStack Query para gerenciar relatórios, incluindo:
- Serviço de API para relatórios
- Hook completo com queries
- Tipos TypeScript para todos os relatórios
- Suporte a todos os endpoints de relatórios

### Arquivos Criados

1. **`frontend/src/api/reports.ts`**
   - Serviço de API para relatórios
   - Métodos: getMonthlyReport, getAnnualReport, getCategoryReport, getIncomeVsExpenseReport
   - Tipos TypeScript completos

2. **`frontend/src/hooks/useReports.ts`**
   - Hook principal usando TanStack Query
   - Queries para todos os tipos de relatórios
   - Cache automático

3. **`frontend/src/api/types.ts`** (modificado)
   - Re-export dos tipos de relatórios

### Funcionalidades

- ✅ Relatório mensal (useMonthlyReport)
- ✅ Relatório anual (useAnnualReport)
- ✅ Relatório por categoria (useCategoryReport)
- ✅ Relatório receitas vs despesas (useIncomeVsExpenseReport)
- ✅ Cache automático com TanStack Query
- ✅ Estados de loading e error
- ✅ TypeScript completo

### Tipos de Relatórios

**MonthlyReport:**
- Resumo mensal com receitas, despesas e saldo
- Breakdown por categoria
- Contadores de transações

**AnnualReport:**
- Resumo anual
- Breakdown mensal
- Totais e contadores

**CategoryReport:**
- Breakdown por categoria
- Percentuais
- Totais e contadores

**IncomeVsExpenseReport:**
- Comparação receitas vs despesas
- Breakdown por período (opcional)
- Diferença e saldo

### Uso do Hook

```typescript
import { useReports } from '@/hooks/useReports'

const { useMonthlyReport, useAnnualReport } = useReports()

// Relatório mensal
const { data: monthlyReport, isLoading } = useMonthlyReport({
  year: 2025,
  month: 12,
  currency: 'BRL',
})

// Relatório anual
const { data: annualReport } = useAnnualReport({
  year: 2025,
  currency: 'BRL',
})
```

### Dependências

- ✅ FE-007: TanStack Query instalado e configurado

### Próximos Passos

- FE-REP-003: Criar página de relatórios (/reports)

---

**Autor:** Sistema de Gestão Financeira  
**Data:** 2025-12-27

