# REP-001 - Criar use case para relatório mensal

**Data:** 2025-12-27  
**Status:** ✅ Concluída

## Resumo da Implementação

**Tarefa:** REP-001 - Criar use case para relatório mensal

### Implementação

Criado use case completo para geração de relatórios mensais financeiros, incluindo:
- DTOs de entrada e saída
- Lógica de cálculo de receitas, despesas e saldo
- Filtragem por período e moeda
- Contagem de transações

### Arquivos Criados

1. **`backend/internal/reporting/application/dtos/monthly_report_input.go`**
   - DTO de entrada com validações
   - Campos: user_id, year, month, currency (opcional)

2. **`backend/internal/reporting/application/dtos/monthly_report_output.go`**
   - DTO de saída com informações completas do relatório
   - Inclui: totais, contagens, breakdown por categoria (estrutura preparada)

3. **`backend/internal/reporting/application/usecases/monthly_report_usecase.go`**
   - Use case principal para geração de relatórios mensais
   - Filtra transações por período (mês/ano)
   - Calcula totais de receitas e despesas
   - Calcula saldo (receitas - despesas)
   - Suporta filtro opcional por moeda

4. **`backend/internal/reporting/application/usecases/monthly_report_usecase_test.go`**
   - Testes unitários completos
   - Testa cálculo correto de totais
   - Testa validação de entrada
   - Cobertura de casos de erro

### Funcionalidades

- ✅ Geração de relatório mensal por usuário
- ✅ Cálculo de receitas totais
- ✅ Cálculo de despesas totais
- ✅ Cálculo de saldo (receitas - despesas)
- ✅ Contagem de transações por tipo
- ✅ Filtro opcional por moeda
- ✅ Validação de entrada (user_id, year, month)
- ✅ Testes unitários completos

### Estrutura do Relatório

O relatório mensal retorna:
- Informações do período (ano, mês)
- Total de receitas (income)
- Total de despesas (expense)
- Saldo (balance = income - expense)
- Contagem de transações (income_count, expense_count, total_count)
- Moeda utilizada
- Estrutura preparada para breakdown por categoria (futuro)

### Testes

```bash
cd backend
go test ./internal/reporting/application/usecases/... -v
```

**Resultado:** ✅ Todos os testes passando

### Próximos Passos

- REP-002: Criar use case para relatório anual
- REP-003: Criar use case para relatório por categoria
- REP-004: Criar use case para receitas vs despesas

---

**Autor:** Sistema de Gestão Financeira  
**Data:** 2025-12-27

